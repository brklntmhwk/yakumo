# https://wiki.hyprland.org/Configuring/Variables/#ecosystem
# ecosystem {
#   no_update_news = true # Disable the popup that shows up when you update hyprland
# }

# https://wiki.hyprland.org/Configuring/Variables/#binds
# binds {
#     drag_threshold = 10 # Movement threshold in pixels for window dragging and c/g bind flags.
# }

# https://wiki.hyprland.org/Configuring/Variables/#general=
general {
    gaps_in = 3
    gaps_out = 8
    gaps_workspaces = 0
    border_size = 1
    # col.active_border = 
    # col.inactive_border =
    resize_on_border = true
    extend_border_grab_area = 15
    # enable_swallow = true
    # swallow_regex = ^(wezterm)$
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
    disable_hyprland_logo = true # Disables the random hyprland logo / anime girl background
    font_family = Moralerspace Neon HWNF # Use your favorite font
    force_default_wallpaper = 0 # 0: Disables the default anime wallpapers
    key_press_enables_dpms = true # Wake up the monitors when any key is pressed of DPMS is set to off
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 1
    rounding_power = 2.0
    # dim_modal = true
    # dim_inactive = true
    # dim_strength = 0.2
    # dim_special = 0.2
}

# https://wiki.hyprland.org/Configuring/Animations/
animations {
  enabled = true

  # Thanks to https://easings.net/
  bezier = easeOutExpo, 0.16, 1.00, 0.30, 1.00
  bezier = easeInOutExpo, 0.87, 0.00, 0.13, 1.00
  bezier = easeOutQuint, 0.22, 1.00, 0.36, 1.00
  bezier = easeOutCubic, 0.33, 1.00, 0.68, 1.00

  animation = border, 1, 12, easeOutCubic
  animation = fadeIn, 1, 12, easeOutExpo
  animation = fadeOut, 1, 12, easeInOutExpo
  animation = fadeDim, 1, 12, easeOutCubic
  animation = workspaces, 1, 12, easeOutQuint
}

# https://wiki.hyprland.org/Configuring/Variables/#input
input {
  follow_mouse = 2 # Allow mouse cursors' foci on windows to sync with those of keyboards' only when clicked
}

# Use these variables hereafter
$hyperMod = SUPER + ALT + CTRL
$superMod = SUPER
$browser = zen
$editor = emacsclient -c -a "" # Start Emacs in daemon mode and try connecting again if the server is not running
$fileManager = yazi
$launcher = wofi --show drun
$terminal = wezterm

# Execute one-shots
# `swww init` is deprecated. Use `swww-daemon` instead
# Reference: https://github.com/LGFae/swww/blob/main/CHANGELOG.md#deprecated
exec-once = swww-daemon && swww img ~/.local/share/hypr/wallpaper/wallpaper.png
exec-once = hypridle
exec-once = $terminal
exec-once = waybar
exec-once = mako
exec-once = fcitx5 -d -r
exec-once = emacs --daemon
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = [workspace name:Dev silent] $browser
exec-once = [workspace name:Writing silent] firefox
exec-once = [workspace special:Scratchpad silent] $terminal

# Set monitor-related info
# To get your monitor(s) info, run `hyprctl monitors`
monitor = HDMI-A-1, 2560x1440, 0x0, 1

# Environment variables
env = HYPRCURSOR_THEME, rose-pine-hyprcursor
env = HYPRCURSOR_SIZE, 24
env = XCURSOR_SIZE, 24
env = GRIMBLAST_EDITOR, swappy -f
env = GRIMBLAST_HIDE_CURSOR, 0

# Brightness control
bindle = , XF86MonBrightnessUp, exec, brightnessctl set +5%
bindle = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Audio control
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioPrev, exec, playerctl previous
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioMute, exec, pamixer -t
binde = , XF86AudioRaiseVolume, exec, pamixer -i 5
binde = , XF86AudioLowerVolume, exec, pamixer -d 5

# Move focus navigations
bind = $hyperMod, left, movefocus, l
bind = $hyperMod, right, movefocus, r
bind = $hyperMod, up, movefocus, u
bind = $hyperMod, down, movefocus, d
bind = $hyperMod, tab, cyclenext
bind = $hyperMod SHIFT, tab, cyclenext, prev

# Move window navigations
bind = $hyperMod, left, movewindow, l
bind = $hyperMod, right, movewindow, r
bind = $hyperMod, up, movewindow, u
bind = $hyperMod, down, movewindow, d

# Window management
bind = $hyperMod, Q, killactive,

# Machine power management
bind = $hyperMod, comma, exec, systemctl suspend
bind = $hyperMod SHIFT, comma, exec, systemctl hibernate
bind = $hyperMod, period, exec, systemctl poweroff
bind = $hyperMod, semicolon, exec, systemctl reboot

# Screen-lock by hyprlock
bind = $hyperMod, L, exec, hyprlock

# Submap for resizing the active window
bind = $hyperMod, R, submap, resize
submap = resize
binde = , B, resizeactive, -10 0
binde = , F, resizeactive, 10 0
binde = , N, resizeactive, 0 10
binde = , P, resizeactive, 0 -10
bind = , escape, submap, reset
submap = reset

# Executions of programs
bind = $superMod, A, exec, $launcher
bind = $superMod, B, exec, $browser
bind = $superMod, E, exec, $editor
bind = $superMod, F, exec, $fileManager
bind = $superMod, Z, exec, $terminal

# Screen recording
bind = $superMod, R, exec, wl-screenrec -g "${slurp}"
bind = $superMod SHIFT, R, exec, wl-screenrec -o HDMI-A-1

# Cliphist's clipboard history on the Wofi dmenu
bind = $superMod, V, exec, cliphist list | wofi -S dmenu | cliphist decode | wl-copy

# Color picker by hyprpicker
bind = $superMod SHIFT, C, exec, hyprpicker --autocopy

# Full or partial screenshots by grimblast
bind = , Print, exec, grimblast --notify edit area
bind = SHIFT, Print, exec, grimblast --notify edit active
bind = $superMod, Print, exec, grimblast --notify edit output
bind = $superMod SHIFT, Print, exec, grimblast --notify edit screen
# bind = , Print, exec, grimblast --notify copysave area - | swappy -f -
# bind = SHIFT, Print, exec, grimblast --notify copysave active - | swappy -f -
# bind = $superMod, Print, exec, grimblast --notify copysave output - | swappy -f -
# bind = $superMod SHIFT, Print, exec, grimblast --notify copysave screen - | swappy -f -

# Allow to move and resize by left/right mouse click and dragging
bindm = $superMod, mouse:272, movewindow
bindm = $superMod, mouse:273, resizewindow

# Workspace switches
bind = $hyperMod, E, workspace, name:Base
bind = $hyperMod, I, workspace, name:Dev
bind = $hyperMod, A, workspace, special:Scratchpad
bind = $hyperMod, O, workspace, name:Writing

# Disallow workspaces with IDs and use named ones instead.
# bind = $hyperMod, 1, workspace, 1
# bind = $hyperMod, 2, workspace, 2
# bind = $hyperMod, 3, workspace, 3
# bind = $hyperMod, 4, workspace, 4
# bind = $hyperMod, 5, workspace, 5
# bind = $hyperMod, 6, workspace, 6
# bind = $hyperMod, 7, workspace, 7
# bind = $hyperMod, 8, workspace, 8
# bind = $hyperMod, 9, workspace, 9

# Define workspace & window rules
workspace = name:Base, monitor:HDMI-A-1, default:true
workspace = name:Dev
workspace = name:Writing
workspace = special:Scratchpad

# Persistent workspace settings cannot coexist with those provided by Waybar's Hyprland module.
# workspace = name:Base, monitor:HDMI-A-1, default:true, persistent:true
# workspace = name:Dev, persistent:true
# workspace = name:Writing, persistent:true
# workspace = special:Scratchpad, persistent:true

# Emacs is a transcendent anomaly beyond the very laws of this world.
# windowrulev2 = float, class:^(emacs)$
